--- a/configure.in
+++ b/configure.in
@@ -614,14 +614,14 @@
    fi
 fi
 
-SAVE_CPPFLAGS="$CPPFLAGS"
+SAVE_CFLAGS="$CFLAGS"
 CFLAGS=`python-config --includes`
-if [ $? -eq 0 ] 
+if test $? -eq 0
 then
    echo $FLAGS
 else
 CFLAGS=`python3-config --includes`
-   if [ $? -eq 0 ]
+   if test $? -eq 0
    then
    echo $FLAGS
    fi
@@ -641,7 +641,7 @@
    AS_IF([test "x$FOUND_HEADER" != "xyes"],
           [AC_MSG_ERROR([cannot find python-devel support], 6)])
 fi
-CFLAGS="$save_CFLAGS"
+CFLAGS="$SAVE_CFLAGS"
 
 if test "$hpijs_only_build" = "no" && test "$scan_build" = "yes" && test "$hpcups_only_build" = "no"; then
    AC_CHECK_LIB([sane], [sane_open], [LIBS="$LIBS"], [AC_MSG_ERROR([cannot find sane-backends-devel support (or --disable-scan-build)], 12)])
--- a/Makefile_dat2drv
+++ b/Makefile_dat2drv
@@ -1,7 +1,4 @@
-GCCVERSION := $(shell expr `gcc -dumpversion | cut -f1 ` \>= 4.7)
-ifeq "$(GCCVERSION)" "1"
-        CFLAGS = -std=c++11
-endif
+CFLAGS = -std=c++11
 
 dat2drv: datdrv.o Normalize.o
 	g++ $(CFLAGS) -o Dat2drv Dat2drv.o Normalize.o
