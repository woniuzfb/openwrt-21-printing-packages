--- a/cups/gdevcups.c
+++ b/cups/gdevcups.c
@@ -60,9 +60,6 @@
  *   cups_print_planar()     - Print a page of planar pixels.
  */
 
-/* prevent gp.h redefining fopen */
-#define sprintf sprintf
-
 /*
  * Include necessary headers...
  */
@@ -4803,10 +4800,10 @@ cups_set_color_info(gx_device *pdev)	/* I - Device info */
     */
 
     if (pdev->HWResolution[0] != pdev->HWResolution[1])
-      sprintf(resolution, "%.0fx%.0fdpi", pdev->HWResolution[0],
+      snprintf(resolution, sizeof(resolution), "%.0fx%.0fdpi", pdev->HWResolution[0],
               pdev->HWResolution[1]);
     else
-      sprintf(resolution, "%.0fdpi", pdev->HWResolution[0]);
+      snprintf(resolution, sizeof(resolution), "%.0fdpi", pdev->HWResolution[0]);
 
     for (i = 0, profile = cups->PPD->profiles;
          i < cups->PPD->num_profiles;
